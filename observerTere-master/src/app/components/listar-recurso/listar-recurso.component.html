<div id="seccion_header" class="text-center">
  <h2>Gesti√≥n de Recursos</h2>
  <hr>

</div>

<div id="cont" class="container mt-5">
  <div class="row">
      <div class="card" style="margin-left: 10px;">
        <div class="card-body text-center">
          <span style="color: black; font-weight: bold" class="titulo">LISTADO DE RECURSOS</span>
          <div class="d-flex justify-content-end mb-3">
            <a class="btn btn-success me-2" routerLink="/crear-recurso"><i class="fa-solid fa-plus"></i> NUEVO</a>
            <div class="form-group mb-0">
              <input type="text" class="form-control" name="filterPost" placeholder="Buscar..." [(ngModel)]="filterPost">
            </div>
          </div>
          <ul class="nav nav-tabs mb-3">
            <li class="nav-item">
              <a id="Existencias" class="nav-link" [class.active]="mostrarSinFallos" (click)="mostrarDiv('SinFallos')">Sin Problemas</a>
            </li>
            <li class="nav-item">
              <a id="SinExistencias" class="nav-link" [class.active]="mostrarConFallos" (click)="mostrarDiv('ConFallos')">Con Problemas</a>
            </li>
          </ul>
          <div *ngIf="mostrarSinFallos" id="SinFallos">
            <table class="table table-striped mt-3">
              <thead>
                <tr style="text-align: center;">
                  <th scope="col">Numero de Serie</th>
                  <th scope="col">Recurso</th>
                  <th scope="col">Marca</th>
                  <th scope="col">Modelo</th>
                  <th scope="col">Estatus</th>
                  <th rowspan="3" style="text-align: center;">Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let recurso of listRecursos | filter:filterPost">
                  <ng-container *ngIf="(recurso.estatus == 'Sin Problemas')">
                    <td>{{ recurso.numSerie}}</td>
                    <td>{{ recurso.recurso }}</td>
                    <td>{{ recurso.marca }}</td>
                    <td>{{ recurso.modelo}}</td>
                    <td>{{ recurso.estatus }}</td>
                    <td>
                      <a [routerLink]="['/editar-recurso', recurso._id]" class="btn btn-success"><i class="fas fa-edit"></i></a>
                    </td>
                    <td><a (click)="eliminarRecurso(recurso._id)" class="btn btn-danger"><i class="fas fa-trash"></i></a></td>
                    <td><a [routerLink]="['/eliminar-recurso', recurso._id]" class="btn btn-warning"><i  class="fas fa-delete-left"></i></a></td>
                  </ng-container>
                </tr>
              </tbody>
            </table>
          </div>
          <div *ngIf="mostrarConFallos" id="ConFallos">
            <table class="table table-striped mt-3">
              <thead>
                <tr>
                  <th scope="col">Numero de Serie</th>
                  <th scope="col">Recurso</th>
                  <th scope="col">Marca</th>
                  <th scope="col">Modelo</th>
                  <th scope="col">Estatus</th>
                  <th scope="col">Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let recurso of listRecursos | filter:filterPost">
                  <ng-container *ngIf="(recurso.estatus == 'Con Problemas')">
                    <td>{{ recurso.numSerie}}</td>
                    <td>{{ recurso.recurso }}</td>
                    <td>{{ recurso.marca }}</td>
                    <td>{{ recurso.modelo}}</td>
                    <td>{{ recurso.estatus }}</td>
                    <td>
                      <a [routerLink]="['/edit-recurso', recurso._id]"><i class="fas fa-edit text-primary me-2"></i></a>
                      <a (click)="eliminarRecurso(recurso._id)"><i class="fas fa-trash text-danger"></i></a>
                    </td>
                  </ng-container>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
  </div>
</div>











